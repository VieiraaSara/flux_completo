"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[1275],{1275:(B,C,s)=>{s.r(C),s.d(C,{ImpressaoGeralPageModule:()=>z});var f=s(177),G=s(4341),u=s(9465),v=s(897),x=s(467),k=s(2233),O=s(9107),E=s(7239),_=s.n(E),n=s(3953),j=s(2872);function y(t,a){if(1&t&&(n.j41(0,"div",9)(1,"div",12)(2,"span"),n.EFF(3,"Cliente"),n.k0s(),n.j41(4,"span"),n.EFF(5),n.k0s(),n.j41(6,"span"),n.EFF(7),n.k0s()()()),2&t){const i=a.$implicit;n.R7$(5),n.JRh(i.nome),n.R7$(2),n.JRh(i.cpf)}}function $(t,a){1&t&&(n.j41(0,"div",9)(1,"div",12)(2,"span"),n.EFF(3,"Conta"),n.k0s(),n.j41(4,"span"),n.EFF(5,"Flux"),n.k0s()()())}function R(t,a){if(1&t&&(n.j41(0,"div",12)(1,"span"),n.EFF(2,"Saldo Total"),n.k0s(),n.nrm(3,"span",14),n.k0s()),2&t){const i=a.$implicit;n.R7$(3),n.Y8G("innerHTML","R$ "+i.saldo_total_geral,n.npT)}}function T(t,a){if(1&t&&(n.j41(0,"div")(1,"div",9)(2,"div",12)(3,"span"),n.EFF(4),n.k0s(),n.nrm(5,"span",14),n.k0s()(),n.nrm(6,"hr",5),n.k0s()),2&t){const i=a.$implicit;n.R7$(4),n.JRh(i.nome_instituicao_financeira),n.R7$(),n.Y8G("innerHTML","R$ "+i.valor_disponivel,n.npT)}}const D=[{path:"",component:(()=>{var t;class a{constructor(o,e){this.route=o,this.navCtrl=e,this.data=[]}ngOnInit(){this.route.queryParams.subscribe(o=>{if(o&&o.data)try{const e=JSON.parse(o.data);Array.isArray(e)?(this.data=e.map(r=>({nome:r.nome,cpf:r.cpf,valor_disponivel:r.valor_disponivel,nome_instituicao_financeira:r.nome_instituicao_financeira,saldo_total_geral:r.saldo_total_geral})),console.log("Dados recebidos PDF:",this.data)):console.error("Os dados recebidos n\xe3o s\xe3o um array.")}catch(e){console.error("Erro ao parsear os dados:",e)}})}shareExtrato(o){var e=this;return(0,x.A)(function*(){const r=e.data.map(c=>`Nome: ${c.nome}\nCPF: ${c.cpf}\nValor Dispon\xedvel: ${c.valor_disponivel}\nInstitui\xe7\xe3o: ${c.nome_instituicao_financeira}\nSaldo Total: ${c.saldo_total_geral}\n`).join("\n");yield k.S.share({title:"Extrato Banc\xe1rio",text:r,dialogTitle:"Compartilhar Extrato"})})()}gerarPDF(o){return(0,x.A)(function*(){const e=document.getElementById("pdfContent");if(!e)return;const r=yield _()(e,{scale:2}),l=(r.toDataURL("image/png"),new O.uE("p","mm","a4")),N=l.internal.pageSize.getWidth(),S=l.internal.pageSize.getHeight(),p=r.width,g=r.height,M=.8*N,b=M/(p/g),h=Math.ceil(b/S);let P=0;for(let F=0;F<h;F++){const m=document.createElement("canvas"),I=m.getContext("2d"),d=Math.min(g-P,g/h);m.width=p,m.height=d,null==I||I.drawImage(r,0,P,p,d,0,0,p,d);const U=m.toDataURL("image/png");l.addImage(U,"PNG",10,10,M,d/g*b),F<h-1&&l.addPage(),P+=d}l.save("extrato_banco_multipagina.pdf")})()}voltar(o){this.navCtrl.navigateBack("/tabs/impressao-extrato")}}return(t=a).\u0275fac=function(o){return new(o||t)(n.rXU(v.nX),n.rXU(j.q9))},t.\u0275cmp=n.VBU({type:t,selectors:[["app-impressao-geral"]],decls:46,vars:16,consts:[[1,"container"],[1,"header"],[1,"back-button",2,"color","black",3,"click"],["src","../../assets/image/Vector 14seta.png","alt",""],["name","share",3,"click"],[1,"separator"],["id","pdfContent"],["class","info-section",4,"ngFor","ngForOf"],[1,"footer"],[1,"info-section"],["class","info-item",4,"ngFor","ngForOf"],[4,"ngFor","ngForOf"],[1,"info-item"],[1,"fixed-button",3,"click"],[3,"innerHTML"]],template:function(o,e){1&o&&(n.j41(0,"ion-content")(1,"div",0)(2,"header",1)(3,"button",2),n.bIt("click",function(c){return e.voltar(c)}),n.nrm(4,"img",3),n.k0s(),n.j41(5,"h1"),n.EFF(6,"Informa\xe7\xf5es da Conta"),n.k0s(),n.j41(7,"ion-icon",4),n.bIt("click",function(c){return e.shareExtrato(c)}),n.k0s()(),n.nrm(8,"hr",5),n.j41(9,"div",6),n.DNE(10,y,8,2,"div",7),n.nI1(11,"slice"),n.nrm(12,"hr",5),n.DNE(13,$,6,0,"div",7),n.nI1(14,"slice"),n.nrm(15,"hr",5),n.j41(16,"footer",8)(17,"p"),n.EFF(18,"Extrato Banc\xe1rio"),n.k0s()(),n.nrm(19,"hr",5),n.j41(20,"div",9),n.DNE(21,R,4,1,"div",10),n.nI1(22,"slice"),n.k0s(),n.nrm(23,"hr",5),n.j41(24,"footer",8)(25,"p"),n.EFF(26,"Detalhes"),n.k0s()(),n.nrm(27,"hr",5),n.DNE(28,T,7,2,"div",11),n.nrm(29,"hr",5),n.j41(30,"div",9)(31,"div",12),n.nrm(32,"span")(33,"span"),n.k0s()(),n.nrm(34,"hr",5),n.j41(35,"div",9)(36,"div",12),n.nrm(37,"span")(38,"span"),n.k0s()(),n.nrm(39,"hr",5),n.j41(40,"div",9)(41,"div",12),n.nrm(42,"span")(43,"span"),n.k0s()()()(),n.j41(44,"button",13),n.bIt("click",function(c){return e.gerarPDF(c)}),n.EFF(45,"Imprimir"),n.k0s()()),2&o&&(n.R7$(10),n.Y8G("ngForOf",n.brH(11,4,e.data,0,1)),n.R7$(3),n.Y8G("ngForOf",n.brH(14,8,e.data,0,1)),n.R7$(8),n.Y8G("ngForOf",n.brH(22,12,e.data,0,1)),n.R7$(7),n.Y8G("ngForOf",e.data))},dependencies:[f.Sq,u.W9,u.iq,f.P9],styles:['@charset "UTF-8";body[_ngcontent-%COMP%]{font-family:poppins;margin:0;padding:0;background-color:#f5f5f5}.container[_ngcontent-%COMP%]{max-width:600px;margin:0 auto;padding:20px;color:#000;background-color:#fff}.header[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;position:relative}ion-icon[_ngcontent-%COMP%]{position:absolute;right:0;background:none;border:none;font-size:20px;cursor:pointer;color:#92d1f9}.back-button[_ngcontent-%COMP%]{position:absolute;left:0;background:none;border:none;font-size:18px;cursor:pointer}.header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin:0;font-size:18px}.separator[_ngcontent-%COMP%]{margin:20px 0;border:0;border-top:1px solid #ddd}.info-section[_ngcontent-%COMP%]{display:flex;flex-direction:column}.info-item[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin:10px 0}.info-item[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:16px}.footer[_ngcontent-%COMP%]{font-weight:500;text-align:center;font-size:18px;margin-top:20px}.fixed-button[_ngcontent-%COMP%]{position:fixed;bottom:0;left:0;width:100%;background-color:#92d1f9;color:#000;border:none;padding:20px;font-size:18px;text-align:center;cursor:pointer}#pdfContent[_ngcontent-%COMP%]{width:100%;margin:0;padding:20px;box-sizing:border-box;text-align:left}#pdfContent[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%], #pdfContent[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0 0 15px}']}),a})()}];let H=(()=>{var t;class a{}return(t=a).\u0275fac=function(o){return new(o||t)},t.\u0275mod=n.$C({type:t}),t.\u0275inj=n.G2t({imports:[v.iI.forChild(D),v.iI]}),a})(),z=(()=>{var t;class a{}return(t=a).\u0275fac=function(o){return new(o||t)},t.\u0275mod=n.$C({type:t}),t.\u0275inj=n.G2t({imports:[f.MD,G.YN,u.bv,H]}),a})()}}]);