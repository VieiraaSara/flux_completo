"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[7013],{7013:(J,I,c)=>{c.r(I),c.d(I,{ImpressaoBancoPageModule:()=>w});var f=c(177),C=c(4341),u=c(9465),h=c(897),b=c(467),M=c(2233),E=c(9107),R=c(7239),O=c.n(R),n=c(3953),x=c(2872);function B(a,i){if(1&a&&(n.j41(0,"div",12)(1,"span"),n.EFF(2,"Cliente"),n.k0s(),n.j41(3,"span"),n.EFF(4),n.k0s(),n.j41(5,"span"),n.EFF(6),n.k0s()()),2&a){const e=i.$implicit;n.R7$(4),n.JRh(e.nome),n.R7$(2),n.JRh(e.cpf)}}function j(a,i){if(1&a&&(n.j41(0,"div",12)(1,"span"),n.EFF(2,"Conta"),n.k0s(),n.j41(3,"span"),n.EFF(4),n.k0s()()),2&a){const e=i.$implicit;n.R7$(4),n.JRh(e.nome_instituicao_financeira)}}function y(a,i){if(1&a&&(n.j41(0,"div",12)(1,"span"),n.EFF(2,"Chave Pix"),n.k0s(),n.j41(3,"span"),n.EFF(4),n.k0s()()),2&a){const e=i.$implicit;n.R7$(4),n.JRh(e.key)}}function D(a,i){if(1&a&&(n.j41(0,"div",12)(1,"span"),n.EFF(2,"Saidas"),n.k0s(),n.nrm(3,"span",13),n.k0s()),2&a){const e=i.$implicit;n.R7$(3),n.Y8G("innerHTML","R$ "+e.saidas,n.npT)}}function T(a,i){if(1&a&&(n.j41(0,"div",7)(1,"div",12)(2,"span"),n.EFF(3,"Entradas"),n.k0s(),n.nrm(4,"span",13),n.k0s()()),2&a){const e=i.$implicit;n.R7$(4),n.Y8G("innerHTML","R$ "+e.entradas,n.npT)}}function H(a,i){if(1&a&&(n.j41(0,"div",7)(1,"div",12)(2,"span"),n.EFF(3,"Saldo Dispon\xedvel"),n.k0s(),n.nrm(4,"span",13),n.k0s()()),2&a){const e=i.$implicit;n.R7$(4),n.Y8G("innerHTML","R$ "+e.saldo_total_geral,n.npT)}}function G(a,i){if(1&a&&(n.j41(0,"div",7)(1,"div",12)(2,"span",14),n.EFF(3),n.k0s(),n.j41(4,"span"),n.EFF(5),n.k0s(),n.nrm(6,"span",13),n.k0s(),n.nrm(7,"hr",5),n.k0s()),2&a){const e=i.$implicit;n.R7$(3),n.JRh(e.descricao),n.R7$(2),n.JRh(e.data_transacao),n.R7$(),n.Y8G("innerHTML","R$ "+e.valor,n.npT)}}const Y=[{path:"",component:(()=>{var a;class i{constructor(r,t){this.route=r,this.navCtrl=t,this.data=[]}ngOnInit(){this.route.queryParams.subscribe(r=>{if(r&&r.data)try{const t=JSON.parse(r.data);Array.isArray(t)?(this.data=t.map(o=>({nome:o.nome,cpf:o.cpf,key:o.key,nome_instituicao_financeira:o.nome_instituicao_financeira,data_transacao:this.formatarData(o.data_transacao),descricao:o.descricao,valor:o.valor,saldo_total_geral:o.saldo_total_geral,saidas:o.saidas,entradas:o.entradas})),console.log("Dados recebidosPDF:",this.data)):console.error("Os dados recebidos n\xe3o s\xe3o um array.")}catch(t){console.error("Erro ao parsear os dados:",t)}})}shareExtrato(r){var t=this;return(0,b.A)(function*(){const o=t.data.map(s=>`Nome: ${s.nome}\nCPF: ${s.cpf}\nValor Dispon\xedvel: ${s.valor_disponivel}\nInstitui\xe7\xe3o: ${s.nome_instituicao_financeira}\nSaldo Total: ${s.saldo_total_geral}\n`).join("\n");yield M.S.share({title:"Extrato Banc\xe1rio",text:o,dialogTitle:"Compartilhar Extrato"})})()}gerarPDF(r){return(0,b.A)(function*(){const t=document.getElementById("pdfContent");if(!t)return;const o=yield O()(t,{scale:2}),d=(o.toDataURL("image/png"),new E.uE("p","mm","a4")),L=d.internal.pageSize.getWidth(),N=d.internal.pageSize.getHeight(),p=o.width,g=o.height,_=.8*L,$=_/(p/g),v=Math.ceil($/N);let P=0;for(let F=0;F<v;F++){const m=document.createElement("canvas"),k=m.getContext("2d"),l=Math.min(g-P,g/v);m.width=p,m.height=l,null==k||k.drawImage(o,0,P,p,l,0,0,p,l);const z=m.toDataURL("image/png");d.addImage(z,"PNG",10,10,_,l/g*$),F<v-1&&d.addPage(),P+=l}d.save("extrato_banco_multipagina.pdf")})()}saveByteArray(r,t){const o=new Blob([t],{type:"application/pdf"}),s=document.createElement("a");s.href=window.URL.createObjectURL(o),s.download=r,s.click(),URL.revokeObjectURL(s.href)}voltar(r){this.navCtrl.navigateBack("/tabs/impressao-extrato")}formatarData(r){const t=new Date(r);return`${t.getDate().toString().padStart(2,"0")}/${(t.getMonth()+1).toString().padStart(2,"0")}/${t.getFullYear()}`}}return(a=i).\u0275fac=function(r){return new(r||a)(n.rXU(h.nX),n.rXU(x.q9))},a.\u0275cmp=n.VBU({type:a,selectors:[["app-impressao-banco"]],decls:44,vars:31,consts:[[1,"container"],[1,"header"],[1,"back-button",2,"color","black",3,"click"],["src","../../assets/image/Vector 14seta.png","alt",""],["name","share",3,"click"],[1,"separator"],["id","pdfContent"],[1,"info-section"],["class","info-item",4,"ngFor","ngForOf"],[1,"footer"],["class","info-section",4,"ngFor","ngForOf"],[1,"fixed-button",3,"click"],[1,"info-item"],[3,"innerHTML"],[1,"descricao"]],template:function(r,t){1&r&&(n.j41(0,"ion-content")(1,"div",0)(2,"header",1)(3,"button",2),n.bIt("click",function(s){return t.voltar(s)}),n.nrm(4,"img",3),n.k0s(),n.j41(5,"h1"),n.EFF(6,"Informa\xe7\xf5es da Conta"),n.k0s(),n.j41(7,"ion-icon",4),n.bIt("click",function(s){return t.shareExtrato(s)}),n.k0s()(),n.nrm(8,"hr",5),n.j41(9,"div",6)(10,"div",7),n.DNE(11,B,7,2,"div",8),n.nI1(12,"slice"),n.k0s(),n.nrm(13,"hr",5),n.j41(14,"div",7),n.DNE(15,j,5,1,"div",8),n.nI1(16,"slice"),n.k0s(),n.nrm(17,"hr",5),n.j41(18,"div",7),n.DNE(19,y,5,1,"div",8),n.nI1(20,"slice"),n.k0s(),n.nrm(21,"hr",5),n.j41(22,"footer",9)(23,"p"),n.EFF(24,"Extrato Banc\xe1rio"),n.k0s()(),n.nrm(25,"hr",5),n.j41(26,"div",7),n.DNE(27,D,4,1,"div",8),n.nI1(28,"slice"),n.k0s(),n.nrm(29,"hr",5),n.DNE(30,T,5,1,"div",10),n.nI1(31,"slice"),n.nrm(32,"hr",5),n.DNE(33,H,5,1,"div",10),n.nI1(34,"slice"),n.nrm(35,"hr",5),n.j41(36,"footer",9)(37,"p"),n.EFF(38,"Detalhes"),n.k0s()(),n.nrm(39,"hr",5),n.DNE(40,G,8,3,"div",10),n.nrm(41,"hr",5),n.k0s()(),n.j41(42,"button",11),n.bIt("click",function(s){return t.gerarPDF(s)}),n.EFF(43,"Imprimir"),n.k0s()()),2&r&&(n.R7$(11),n.Y8G("ngForOf",n.brH(12,7,t.data,0,1)),n.R7$(4),n.Y8G("ngForOf",n.brH(16,11,t.data,0,1)),n.R7$(4),n.Y8G("ngForOf",n.brH(20,15,t.data,0,1)),n.R7$(8),n.Y8G("ngForOf",n.brH(28,19,t.data,0,1)),n.R7$(3),n.Y8G("ngForOf",n.brH(31,23,t.data,0,1)),n.R7$(3),n.Y8G("ngForOf",n.brH(34,27,t.data,0,1)),n.R7$(7),n.Y8G("ngForOf",t.data))},dependencies:[f.Sq,u.W9,u.iq,f.P9],styles:['@charset "UTF-8";body[_ngcontent-%COMP%]{font-family:poppins;margin:0;padding:0;background-color:#f5f5f5}.container[_ngcontent-%COMP%]{max-width:600px;margin:0 auto;padding:20px;color:#000;background-color:#fff}.header[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;position:relative}.back-button[_ngcontent-%COMP%]{position:absolute;left:0;background:none;border:none;font-size:18px;cursor:pointer}.header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin:0;font-size:18px}.separator[_ngcontent-%COMP%]{margin:20px 0;border:0;border-top:1px solid #ddd}.info-section[_ngcontent-%COMP%]{display:flex;flex-direction:column}.info-item[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin:10px 0}span.descricao[_ngcontent-%COMP%]{width:80px;word-wrap:break-word}.info-item[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:16px}.footer[_ngcontent-%COMP%]{font-weight:500;text-align:center;font-size:18px;margin-top:20px}.fixed-button[_ngcontent-%COMP%]{position:fixed;bottom:0;left:0;width:100%;background-color:#92d1f9;color:#000;border:none;padding:20px;font-size:18px;text-align:center;cursor:pointer}ion-icon[_ngcontent-%COMP%]{position:absolute;right:0;background:none;border:none;font-size:20px;cursor:pointer;color:#92d1f9}#pdfContent[_ngcontent-%COMP%]{width:100%;margin:0;padding:5px;box-sizing:border-box;text-align:left}#pdfContent[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%], #pdfContent[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0 0 15px}']}),i})()}];let S=(()=>{var a;class i{}return(a=i).\u0275fac=function(r){return new(r||a)},a.\u0275mod=n.$C({type:a}),a.\u0275inj=n.G2t({imports:[h.iI.forChild(Y),h.iI]}),i})(),w=(()=>{var a;class i{}return(a=i).\u0275fac=function(r){return new(r||a)},a.\u0275mod=n.$C({type:a}),a.\u0275inj=n.G2t({imports:[f.MD,C.YN,u.bv,S]}),i})()}}]);