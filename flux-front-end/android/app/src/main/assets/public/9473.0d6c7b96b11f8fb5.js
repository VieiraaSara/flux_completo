"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[9473],{9473:(P,u,c)=>{c.r(u),c.d(u,{TransacaoPageModule:()=>M,customCurrencyMaskConfig:()=>m});var f=c(177),l=c(4341),d=c(9465),g=c(897),n=c(3953),h=c(3484),x=c(8819),p=c(4210);function _(e,i){if(1&e){const a=n.RV6();n.j41(0,"div",12),n.bIt("click",function(){const o=n.eBV(a).$implicit,r=n.XpG();return n.Njj(r.selecionarBancoEnvio(o,o.id_conta,o.id_contaBancos))}),n.nrm(1,"img",13)(2,"p",14),n.k0s()}if(2&e){const a=i.$implicit,t=n.XpG();n.R7$(),n.AVh("selected",(null==t.selectedInstitutionEnvio?null:t.selectedInstitutionEnvio.id_conta)===a.id_conta),n.Y8G("src",a.image,n.B4B)("alt",a.name),n.R7$(),n.Y8G("innerHTML",a.name,n.npT)}}function b(e,i){if(1&e){const a=n.RV6();n.j41(0,"div",12),n.bIt("click",function(){const o=n.eBV(a).$implicit,r=n.XpG();return n.Njj(r.selecionarBancoRecebimento(o,o.id_conta,o.id_contaBancos))}),n.nrm(1,"input",15)(2,"img",13)(3,"p",14),n.k0s()}if(2&e){const a=i.$implicit,t=n.XpG();n.R7$(),n.FS9("value",a.id_contaBancos),n.R7$(),n.AVh("selected",(null==t.selectedInstitutionRecebimento?null:t.selectedInstitutionRecebimento.id_conta)===a.id_conta),n.Y8G("src",a.image,n.B4B)("alt",a.name),n.R7$(),n.Y8G("innerHTML",a.name,n.npT)}}const v=[{path:"",component:(()=>{var e;class i{constructor(t,o,r){this.transacaoService=t,this.pixService=o,this.router=r,this.valor=0,this.descricao="",this.bancosFiltrados=[],this.selectedInstitutionEnvio=null,this.selectedInstitutionRecebimento=null,this.token=""}ngOnInit(){this.token=localStorage.getItem("token"),this.carregarBancos()}carregarBancos(){this.token&&this.transacaoService.getContasFlux(this.token).then(t=>{Array.isArray(t)?(console.log(t),this.bancosFiltrados=t.map(o=>(console.log("ID Conta Bancos:",o.id_contaBancos),console.log("Conta:",o.Contum),console.log("Banco Image:",o.Contum.Banco.image),{id_contaBancos:o.id_contaBancos,name:o.Contum.Banco.name,image:o.Contum.Banco.image,id_conta:o.id_contaBancos,saldo:o.saldo,tipo_conta:o.tipo_conta,usuario_id:o.usuario_id}))):console.error("A resposta da API n\xe3o \xe9 um array:",t)}).catch(t=>{console.error("Erro ao carregar contas:",t)})}decreaseValue(){this.valor>0&&this.valor--}increaseValue(){this.valor++}selecionarBancoEnvio(t,o,r){console.log(t),console.log("BANCO ENVIAR",o),this.selectedInstitutionEnvio=t}selecionarBancoRecebimento(t,o,r){console.log(t),console.log("BANCO RECEBER",o),this.selectedInstitutionRecebimento=t}enviarTransacao(){if(console.log("CHEGOU AS COIAS "),!this.selectedInstitutionEnvio||!this.selectedInstitutionRecebimento||this.valor<=0)return void console.error("Selecione os bancos e informe um valor v\xe1lido");const t={id_contaBancos:this.id_contaBancos,id_conta_bancaria_origem:this.selectedInstitutionEnvio.id_conta,id_conta_bancaria_destino:this.selectedInstitutionRecebimento.id_conta,usuario_id:this.selectedInstitutionEnvio.usuario_id,valor_transferencia:this.valor.toFixed(2),descricao:this.descricao};console.log(t),this.token&&this.transacaoService.fazerTransacao(this.token,t.id_contaBancos,t).subscribe(o=>{console.log("Transa\xe7\xe3o realizada com sucesso",o),this.router.navigate(["/tabs/home"])},o=>{console.error("Erro ao realizar transa\xe7\xe3o",o)})}}return(e=i).\u0275fac=function(t){return new(t||e)(n.rXU(h.S),n.rXU(x.x),n.rXU(g.Ix))},e.\u0275cmp=n.VBU({type:e,selectors:[["app-transacao"]],decls:30,vars:4,consts:[[1,"global"],[1,"login-container"],["src","../../assets/image/Emblema pelos seus 10 designs criados no Canva.png","alt","Logo",1,"logo"],[1,"azul"],[1,"valor-container"],["currencyMask","",1,"input-saldo",3,"ngModelChange","ngModel"],[1,"container-disponiveis"],[1,"logo-bancos"],[3,"click",4,"ngFor","ngForOf"],["routerLink","/mais-bancos",1,"btn-azul"],[1,"descricao-container"],["type","text",1,"descricao",3,"ngModelChange","ngModel"],[3,"click"],[3,"src","alt"],[3,"innerHTML"],["type","hidden",3,"value"]],template:function(t,o){1&t&&(n.j41(0,"ion-content")(1,"div",0)(2,"div",1),n.nrm(3,"img",2),n.j41(4,"h1"),n.EFF(5,"Fa\xe7a sua transa\xe7\xe3o!"),n.k0s(),n.j41(6,"p",3),n.EFF(7,"Coloque o valor da sua transa\xe7\xe3o"),n.k0s(),n.j41(8,"div",4)(9,"input",5),n.mxI("ngModelChange",function(s){return n.DH7(o.valor,s)||(o.valor=s),s}),n.k0s()(),n.j41(10,"div",6)(11,"p"),n.EFF(12,"Selecione a institui\xe7\xe3o que envia essa transa\xe7\xe3o"),n.k0s(),n.j41(13,"div",7),n.DNE(14,_,3,5,"div",8),n.k0s(),n.j41(15,"button",9),n.EFF(16,"Veja Mais +"),n.k0s()(),n.j41(17,"div",6)(18,"p"),n.EFF(19,"Selecione a institui\xe7\xe3o que receba essa transa\xe7\xe3o"),n.k0s(),n.j41(20,"div",7),n.DNE(21,b,4,6,"div",8),n.k0s(),n.j41(22,"button",9),n.EFF(23,"Veja Mais +"),n.k0s()(),n.j41(24,"div",10)(25,"p"),n.EFF(26,"Escreva a descri\xe7\xe3o da sua transa\xe7\xe3o (opcional)"),n.k0s(),n.j41(27,"input",11),n.mxI("ngModelChange",function(s){return n.DH7(o.descricao,s)||(o.descricao=s),s}),n.k0s()(),n.j41(28,"button",12),n.bIt("click",function(){return o.enviarTransacao()}),n.EFF(29,"Enviar transa\xe7\xe3o"),n.k0s()()()()),2&t&&(n.R7$(9),n.R50("ngModel",o.valor),n.R7$(5),n.Y8G("ngForOf",o.bancosFiltrados),n.R7$(7),n.Y8G("ngForOf",o.bancosFiltrados),n.R7$(6),n.R50("ngModel",o.descricao))},dependencies:[f.Sq,l.me,l.BC,l.vS,d.W9,d.N7,g.Wk,p.Jf],styles:['@charset "UTF-8";.global[_ngcontent-%COMP%]{background-color:#000;display:flex;justify-content:center;margin:0}.login-container[_ngcontent-%COMP%]{margin-top:50px;background-color:#000;padding:20px;text-align:center;max-width:400px;width:100%}.logo[_ngcontent-%COMP%]{width:90px;height:70px;margin-bottom:10px}h1[_ngcontent-%COMP%]{font-family:Inter,sans-serif;margin:0;padding:0;font-size:30px;color:#fff}h5[_ngcontent-%COMP%]{font-family:Inter,sans-serif;font-size:20px;margin-bottom:20px;color:#fff}.input-container[_ngcontent-%COMP%]{position:relative;margin-bottom:20px;display:flex;align-items:center;justify-content:center}.input-container[_ngcontent-%COMP%]{position:relative;margin-bottom:20px}.input-container[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-family:Poppins,sans-serif;display:block;text-align:left;margin-bottom:5px;font-weight:700;color:#fff}.input-container[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{font-family:Poppins,sans-serif;width:100%;padding:20px 20px 20px 80px;border-radius:50px;background-color:#171c1c;border:none;color:#9395a4;font-size:18px;height:60px;text-align:center}.input-container[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{outline:none;border:2px solid #000ceb}.input-circle[_ngcontent-%COMP%]{position:absolute;top:50%;left:15px;transform:translateY(-50%);background-color:#000e5a;border-radius:50%;width:40px;height:40px;display:flex;justify-content:center;align-items:center;color:#fdfdfd;font-size:18px}button[_ngcontent-%COMP%]{font-family:Poppins,sans-serif;font-weight:600;width:100%;padding:20px;font-size:18px;background-color:#92d1f9;color:#000;border:none;border-radius:50px;cursor:pointer}button[_ngcontent-%COMP%]:hover{background-color:#44b7ff}.forgot-password[_ngcontent-%COMP%]{font-family:Poppins,sans-serif;margin-top:10px;color:#007bff;cursor:pointer}.container-disponiveis[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{display:flex;justify-content:flex-start;color:#007bff}.container-disponiveis[_ngcontent-%COMP%]{text-align:center;padding:20px}.logo-bancos[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:center;gap:30px;display:grid;grid-template-columns:repeat(4,30px)}.logo-bancos[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#fff;font-size:10px}.logo-bancos[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;width:20px;margin:5px}.logo-bancos[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:20px;height:20px;border-radius:10px;margin-bottom:5px}.logo-bancos[_ngcontent-%COMP%]{max-width:500px}@media (max-width: 768px){.logo-bancos[_ngcontent-%COMP%]{gap:10px}.logo-bancos[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:25px;height:25px}.logo-bancos[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{width:60px}}.logo-bancos[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:center}.logo-bancos[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:40px;height:40px;margin-right:10px}.azul[_ngcontent-%COMP%]{display:flex;justify-content:start;color:#007bff}.btn-azul[_ngcontent-%COMP%]{background-color:#000ceb;color:#fff;width:50%;margin-top:10px;height:5%}.valor-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;gap:10px;margin-bottom:20px}.valor-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:40px;height:40px;background-color:#000e5a;color:#fff;border:none;border-radius:50%;font-size:20px;cursor:pointer}.valor-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#0056b3}.valor-container[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{all:unset;text-align:center;width:30vh;height:40px;font-size:20px;border:none;border-radius:5px 5px 0 0;background-color:#171c1c7c;color:#fff;border-bottom:1px solid #92D1F9}.valor-container[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center}input[type=number][_ngcontent-%COMP%]{width:60px;text-align:center;margin:0 10px;font-size:18px}.circle-btn[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;width:40px;height:40px;border-radius:50%;background-color:#ddd;border:none;font-size:24px;cursor:pointer}.circle-btn[_ngcontent-%COMP%]:hover{background-color:#ccc}.logo-bancos[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{cursor:pointer;margin:10px}.logo-bancos[_ngcontent-%COMP%]   img.selected[_ngcontent-%COMP%]{padding:1px;filter:drop-shadow(2px 3px 0px #0056b3);transition:.2s ease-in}.descricao[_ngcontent-%COMP%]{all:unset;margin-bottom:4px;border-bottom:1px solid #92D1F9;background-color:#171c1c7c;font-size:19px}']}),i})()}];let C=(()=>{var e;class i{}return(e=i).\u0275fac=function(t){return new(t||e)},e.\u0275mod=n.$C({type:e}),e.\u0275inj=n.G2t({imports:[g.iI.forChild(v),g.iI]}),i})();const m={align:"center",allowNegative:!1,decimal:",",precision:2,prefix:"R$ ",suffix:"",thousands:"."};let M=(()=>{var e;class i{}return(e=i).\u0275fac=function(t){return new(t||e)},e.\u0275mod=n.$C({type:e}),e.\u0275inj=n.G2t({providers:[{provide:p.cK,useValue:m}],imports:[f.MD,l.YN,d.bv,C,p.qr]}),i})()}}]);